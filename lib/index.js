!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("index",[],n):"object"==typeof exports?exports.index=n():t.index=n()}(window,function(){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(i,o,function(n){return t[n]}.bind(null,o));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=25)}([function(t,n){t.exports=function(t){if(!t.webpackPolyfill){var n=Object.create(t);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},function(t,n,e){"use strict";(function(t){var i=e(24);function o(t,n,e,i,o,r,u){try{var a=t[r](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function r(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var u=t.apply(n,e);function a(t){o(u,i,r,a,c,"next",t)}function c(t){o(u,i,r,a,c,"throw",t)}a(void 0)})}}n.a={store:null,init:function(t){if(!window.Twitch.ext)throw new i.a;this.store=t,this.initListeners()},initListeners:function(){this.initFeatureFlags(),this.initClientQueryParams(),this.initConfigurationService(),this.initOnAuthorized(),this.initOnContext(),this.onHighlightChanged(),this.initOnPositionChanged()},initFeatureFlags:function(){var t=this;window.Twitch.ext.features.onChanged(function(){t.store.dispatch("updateFeatures")})},initClientQueryParams:function(){this.store.dispatch("updateQueryParams")},initOnAuthorized:function(){var t=this;window.Twitch.ext.onAuthorized(function(){var n=r(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.store.dispatch("updateUserInfo");case 2:if(t.initialized){n.next=7;break}return n.next=5,t.store.dispatch("loadBitProducts");case 5:return n.next=7,t.store.dispatch("setChannelId",e.channelId);case 7:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}())},initOnContext:function(){var t=this;window.Twitch.ext.onContext(function(){var n=r(regeneratorRuntime.mark(function n(e,i){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.store.dispatch("updateContext",{context:e,contextFields:i});case 2:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}())},initOnPositionChanged:function(){var t=this;window.Twitch.ext.onPositionChanged(function(){var n=r(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.store.dispatch("updatePosition",e);case 2:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}())},initConfigurationService:function(){var t=this;window.Twitch.ext.configuration.onChanged(function(){t.store.dispatch("updateConfiguration",window.Twitch.ext.configuration)})},onHighlightChanged:function(){var t=this;window.Twitch.ext.onHighlightChanged(function(n){t.store.dispatch("updateHighlight",n)})}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={updateToken:function(t,n){t.commit("UPDATE_TOKEN",n)},updateIsLinked:function(t,n){t.commit("UPDATE_IS_LINKED",n)},updateRole:function(t,n){t.commit("UPDATE_ROLE",n)},updateUserId:function(t,n){t.commit("UPDATE_USER_ID",n)},updateOpaqueId:function(t,n){t.commit("UPDATE_OPAQUE_ID",n)},updateSubscriptionStatus:function(t,n){t.commit("UPDATE_SUBSCRIPTION_STATUS",n)},updateUserInfo:function(t){var n=t.dispatch,e=t.commit;n("updateToken",window.Twitch.ext.viewer.sessionToken),n("updateIsLinked",window.Twitch.ext.viewer.isLinked),n("updateRole",window.Twitch.ext.viewer.role),n("updateUserId",window.Twitch.ext.viewer.id),n("updateOpaqueId",window.Twitch.ext.viewer.opaqueId),n("updateSubscriptionStatus",window.Twitch.ext.viewer.subscriptionStatus),e("SET_USER_INFO_INITIALIZED")}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={UPDATE_TOKEN:function(t,n){t.sessionToken=n},UPDATE_IS_LINKED:function(t,n){t.isLinked=n},UPDATE_ROLE:function(t,n){t.role=n},UPDATE_USER_ID:function(t,n){t.userId=n},UPDATE_OPAQUE_ID:function(t,n){t.opaqueId=n},UPDATE_SUBSCRIPTION_STATUS:function(t,n){t.subscriptionStatus=n},SET_USER_INFO_INITIALIZED:function(t){t.initialized=!0}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={setChannelId:function(t,n){n&&(t.commit("SET_CHANNEL_ID",n),t.commit("SET_CHANNEL_INFO_INITIALIZED"))}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={SET_CHANNEL_ID:function(t,n){t.channelId=n},SET_CHANNEL_INFO_INITIALIZED:function(t){t.initialized=!0}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={updateContext:function(t,n){t.commit("UPDATE_CONTEXT",n),t.commit("SET_CONTEXT_INITIALIZED",n)}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={UPDATE_CONTEXT:function(t,n){var e=n.context;n.contextFields.forEach(function(n){t[n]=e[n]})},SET_CONTEXT_INITIALIZED:function(t){t.initialized=!0}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={updateHighlight:function(t,n){t.commit("UPDATE_HIGHLIGHT",n)}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={UPDATE_HIGHLIGHT:function(t,n){t.isHighlighted=n}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={updatePosition:function(t,n){t.commit("UPDATE_POSITION",n),t.commit("SET_POSITION_INITIALIZED")}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={UPDATE_POSITION:function(t,n){t.position=n},SET_POSITION_INITIALIZED:function(t){t.initialized=!0}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={updateConfiguration:function(t,n){var e=n.developer,i=n.broadcaster,o=n.global;t.dispatch("updateGlobalSegment",o),t.dispatch("updateDeveloperSegment",e),t.dispatch("updateBroadcasterSegment",i),t.commit("SET_CONFIGURATION_SERVICE_INITIALIZED")},updateGlobalSegment:function(t,n){t.commit("UPDATE_GLOBAL",n)},updateDeveloperSegment:function(t,n){t.commit("UPDATE_DEVELOPER",n)},updateBroadcasterSegment:function(t,n){t.commit("UPDATE_BROADCASTER",n)},setBroadcasterSegment:function(t,n){var e=n.version,i=n.content,o="string"==typeof i?i:JSON.stringify(i);window.Twitch.ext.configuration.set("broadcaster",e,o),t.dispatch("updateBroadcaster",{version:e,content:o})}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={UPDATE_GLOBAL:function(t,n){t.global=n},UPDATE_DEVELOPER:function(t,n){t.developer=n},UPDATE_BROADCASTER:function(t,n){t.broadcaster=n},SET_CONFIGURATION_SERVICE_INITIALIZED:function(t){t.initialized=!0}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={updateQueryParams:function(t){t.commit("UPDATE_QUERY_PARAMETERS")}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={UPDATE_QUERY_PARAMETERS:function(t){var n=new URLSearchParams(window.location.search);t.anchor=n.get("anchor"),t.language=n.get("language"),t.locale=n.get("locale"),t.mode=n.get("mode"),t.platform=n.get("platform"),t.popout=n.get("popout"),t.state=n.get("state")}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={updateFeatures:function(t){t.commit("UPDATE_FEATURES")}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={UPDATE_FEATURES:function(t){t.isChatEnabled=window.Twitch.ext.features.isChatEnabled,t.isSubscriptionStatusAvailable=window.Twitch.ext.features.isSubscriptionStatusAvailable,t.isBitsEnabled=window.Twitch.ext.features.isBitsEnabled}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){function e(t){if(null==t)throw new TypeError("Cannot destructure undefined")}function i(t,n,e,i,o,r,u){try{var a=t[r](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function o(t){return function(){var n=this,e=arguments;return new Promise(function(o,r){var u=t.apply(n,e);function a(t){i(u,o,r,a,c,"next",t)}function c(t){i(u,o,r,a,c,"throw",t)}a(void 0)})}}n.a={loadBitProducts:function(){var t=o(regeneratorRuntime.mark(function t(n){var e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.commit,t.next=3,window.Twitch.ext.bits.getProducts();case 3:return i=t.sent,e("SET_BIT_PRODUCTS",i),t.abrupt("return",i);case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),getProducts:function(){var t=o(regeneratorRuntime.mark(function t(n){var e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.state,i=n.dispatch,!e.bitProducts){t.next=5;break}return t.abrupt("return",e.bitProducts);case 5:return t.abrupt("return",i("loadBitProducts"));case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),onTransactionCancelled:function(t,n){var e=t.dispatch;window.Twitch.ext.bits.onTransactionCancelled(function(){e("setHasOngoingBitTransaction",!1),n()})},onTransactionComplete:function(t,n){var e=t.dispatch;window.Twitch.ext.bits.onTransactionComplete(function(){e("setHasOngoingBitTransaction",!1),n()})},setUseLoopBack:function(t,n){e(t),window.Twitch.ext.bits.setUseLoopBack(n)},showBitsBalance:function(){window.Twitch.ext.bits.showBitsBalance()},useBits:function(t,n){e(t),dispatch("setHasOngoingBitTransaction",!0),window.Twitch.ext.bits.useBits(n)},setHasOngoingBitTransaction:function(t,n){(0,t.commit)("SET_HAS_ONGOING_BIT_TRANSACTION",n)}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={SET_BIT_PRODUCTS:function(t,n){t.bitProducts=n},SET_HAS_ONGOING_BIT_TRANSACTION:function(t,n){t.hasOngoingBitTransaction=n}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={listen:function(t,n){var e=n.target,i=n.callback;window.Twitch.ext.listen(e,i)},unlisten:function(t,n){var e=n.target,i=n.callback;window.Twitch.ext.unlisten(e,i)}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={followChannel:function(t,n){window.Twitch.ext.actions.followChannel(n)},minimize:function(t){window.Twitch.ext.actions.minimize()},onFollow:function(t,n){window.Twitch.ext.actions.onFollow(n)},requestIdShare:function(t){window.Twitch.ext.actions.requestIdShare()}},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){n.a={},t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,n){return!n||"object"!==i(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function r(t){var n="function"==typeof Map?new Map:void 0;return(r=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return u(t,arguments,c(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),a(i,t)})(t)}function u(t,n,e){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,e){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(t,i));return e&&a(o,e.prototype),o}).apply(null,arguments)}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.d(n,"a",function(){return s});var s=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o(this,c(n).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,r(Error)),n}();t.exports=exports.default}).call(this,e(0)(t))},function(t,n,e){"use strict";e.r(n);var i=e(2),o={state:{initialized:!1,opaqueId:"",userId:null,role:"",isLinked:!1,sessionToken:"",subscriptionStatus:null},mutations:e(3).a,actions:i.a},r=e(4),u={state:{initialized:!1,channelId:""},getters:{},mutations:e(5).a,actions:r.a},a=e(6),c={state:{initialized:!1,arePlayerControlsVisible:!1,bitrate:0,bufferSize:0,displayResolution:"",game:"",hlsLatencyBroadcaster:0,hostingInfo:null,isFullScreen:!1,isMuted:!1,isPaused:!1,isTheatreMode:!1,language:"",mode:"",playbackMode:"",theme:"",videoResolution:"",volume:0},mutations:e(7).a,actions:a.a},s=e(8),f={state:{isHighlighted:!1},mutations:e(9).a,actions:s.a},l=e(10),d={state:{initialized:!1,position:null},mutations:e(11).a,actions:l.a},p=e(12),h={state:{initialized:!1,developer:null,global:null,broadcaster:null},getters:{globalConfigurationServiceSegment:function(t){if(!t.global||!t.global.content)return null;try{return JSON.parse(t.global.content)}catch(n){return t.global.content}},developerConfigurationServiceSegment:function(t){if(!t.developer||!t.developer.content)return null;try{return JSON.parse(t.developer.content)}catch(n){return t.developer.content}},broadcasterConfigurationServiceSegment:function(t){if(!t.broadcaster||!t.broadcaster.content)return null;try{return JSON.parse(t.broadcaster.content)}catch(n){return t.broadcaster.content}}},mutations:e(13).a,actions:p.a},T=e(14),w={state:{anchor:"",language:"",locale:"",mode:"",platform:"",popout:!1,state:""},mutations:e(15).a,actions:T.a},m=e(16),g={state:{isChatEnabled:!1,isBitsEnabled:!1,isSubscriptionStatusAvailable:null},mutations:e(17).a,actions:m.a},x=e(18),b={state:{bitProducts:[],hasOngoingBitTransaction:!1},mutations:e(19).a,actions:x.a,getters:{getBitAmount:function(t){return function(n){var e=t.bitProducts.find(function(t){return t.sku===n});return e&&e.cost.amount||0}}}},E=e(20),I={state:{},mutations:e(21).a,actions:E.a},S=e(22),v={state:{},mutations:e(23).a,actions:S.a},_=e(1);e.d(n,"linkStoreToHelper",function(){return y}),e.d(n,"UserInfoModule",function(){return o}),e.d(n,"ChannelInfoModule",function(){return u}),e.d(n,"ContextModule",function(){return c}),e.d(n,"ConfigurationServiceModule",function(){return h}),e.d(n,"ClientQueryParametersModule",function(){return w}),e.d(n,"BitsModule",function(){return b}),e.d(n,"FeaturesModule",function(){return g}),e.d(n,"HighlightModule",function(){return f}),e.d(n,"PositionModule",function(){return d}),e.d(n,"PubSubModule",function(){return I}),e.d(n,"ActionsModule",function(){return v});var P={modules:{viewer:o,channel:u,context:c,configuration:h,queryParams:w,bits:b,features:g,highlight:f,position:d,pubsub:I,actions:v},getters:{isExtensionInitialized:function(t){return t.channel.initialized&&t.configuration.initialized&&t.context.initialized&&t.position.initialized&&t.viewer.initialized}}},y=_.a.init;n.default={store:P,init:_.a.init}}])});